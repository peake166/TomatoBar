# TomatoBar 优化计划

## 已完成功能

1.  **计时时长扩展**:
    * ✅ 修改时间设置相关界面和逻辑，允许用户按小时和分钟输入时长。
    * ✅ 确保倒计时功能支持最长 24 小时的设置。
    * ✅ 调整相关组件以适应更长的时间显示。

2.  **计时控制增强**:
    * ✅ 在时间块显示行添加"暂停/继续"按钮。
    * ✅ 更新计时器核心逻辑，使其能够响应暂停和恢复操作。
    * ✅ 在状态栏菜单中反映当前的暂停或运行状态。

3.  **声音设置自定义**:
    * ✅ 扩展应用的设置界面，添加声音设置选项卡。
    * ✅ 添加开关选项，允许用户独立控制三种声音的播放：
        * 计时开始时的提示音 (`windup.mp3`)
        * 计时进行中的秒针声 (`ticking.mp3`)
        * 计时结束时的提醒音 (`ding.mp3`)
    * ✅ 修改声音播放代码，使其在播放前检查用户的设置状态。

4.  **启动流程优化**:
    * ✅ 修改应用启动时自动开始第一个时间块计时的代码。
    * ✅ 确保应用启动后，所有时间块都处于未启动状态，等待用户操作。
    * ✅ 优化了快捷键的行为，改为暂停/继续模式而非开始/停止模式。

5.  **界面刷新机制**:
    * ✅ 在显示时间块列表的视图中添加一个"刷新"按钮。
    * ✅ 实现该按钮的功能：点击后，强制更新界面上所有时间块的剩余时间显示。
    * ✅ 修改时间块的保存机制，确保记住每个时间块的已用时间。

6.  **其他功能增强**:
    * ✅ 在设置界面添加退出按钮，允许用户直接退出应用。
    * ✅ 优化界面布局，添加底部状态栏显示当前活动时间块的状态和剩余时间。
    * ✅ 增强统计功能，让用户能够查看时间块的总时长和分布情况。

## 测试与验证

* ✅ 对上述所有优化点进行详细测试，确保功能按预期工作。
* ✅ 验证用户界面交互是否流畅自然。
* ✅ 检查并修复因修改引入的潜在问题。

## 后续优化方向

* 添加主题自定义功能，允许用户选择明暗主题或自定义颜色。
* 实现数据导出功能，允许用户导出时间使用统计和历史记录。
* 添加更多提醒方式，如声音提醒之外的视觉提醒或通知中心集成。


